{
  "name": "Beebakery landing page",
  "nodes": [
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "=<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>Bakery Shop</title>\n  <script src=\"https://cdn.tailwindcss.com\"></script>\n</head>\n<body class=\"bg-white font-sans\">\n  <div class=\"flex min-h-screen\">\n    <!-- Left Section -->\n    <main class=\"flex-1 p-6\">\n      <!-- Header -->\n      <div class=\"mb-6\">\n        <h1 class=\"text-2xl font-bold flex items-center space-x-2\">\n          Welcome, BeeBakery\n         <svg viewBox=\"0 0 400 400\" class=\"w-10 h-10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" transform=\"matrix(-1, 0, 0, 1, 0, 0)\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <path d=\"M148.113 270.455C178.811 224.075 242.668 181.298 297.992 215.94C304.883 220.254 314.779 228.618 316.462 236.906C325.434 281.055 219.899 337.713 168.712 307.497C164.995 305.3 145.854 281.143 143.853 281.636C137.464 283.209 118.718 290.291 114.019 294.914C113.573 295.353 132.91 288.624 150.246 288.624\" stroke=\"#c55c11\" stroke-opacity=\"0.9\" stroke-width=\"16\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> <path d=\"M191.543 237.122C205.369 258.398 200.625 296.531 200.625 311.775\" stroke=\"#c55c11\" stroke-opacity=\"0.9\" stroke-width=\"16\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> <path d=\"M228.193 220.22C239.777 244.764 237.816 272.365 232.076 297.689\" stroke=\"#c55c11\" stroke-opacity=\"0.9\" stroke-width=\"16\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> <path d=\"M284.838 251.531C284.957 252.267 284.477 252.976 284.297 253.7\" stroke=\"#c55c11\" stroke-opacity=\"0.9\" stroke-width=\"16\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> <path d=\"M215.398 191.049C218.251 170.409 164.043 73.6845 139.078 86.0953C118.061 96.542 179.056 165.553 186.868 173.32C193.432 179.846 212.414 199.306 208.263 191.049C202.171 178.929 175.365 166.868 164.043 161.975C63.9156 118.688 52.5083 209.528 152.632 194.597C167.952 192.312 183.247 188.576 198.279 186.085\" stroke=\"#c55c11\" stroke-opacity=\"0.9\" stroke-width=\"16\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </g></svg>\n        </h1>\n        <p class=\"text-gray-500\">Discover whatever you need easily</p>\n      </div>\n\n      <!-- Category Tabs -->\n      <section id=\"categories\" class=\"flex space-x-3 mb-6\"></section>\n\n      <!-- Products Grid -->\n      <section id=\"products\" class=\"grid grid-cols-3 gap-6\"></section>\n    </main>\n\n    <!-- Right Sidebar -->\n    <aside class=\"w-80 bg-gray-50 p-6 border-l\">\n      <h2 class=\"text-lg font-bold mb-4\">Current Order</h2>\n      <div id=\"order-items\" class=\"space-y-4 mb-6\"></div>\n      <div class=\"space-y-1 text-sm text-gray-600 mb-4\">\n        <div class=\"flex justify-between\"><span>Subtotal</span><span id=\"subtotal\">$0.00</span></div>\n        <div class=\"flex justify-between\"><span>Discount sales</span><span id=\"discount\">- $0.00</span></div>\n        <div class=\"flex justify-between\"><span>Total sales tax</span><span id=\"tax\">$0.00</span></div>\n      </div>\n      <div class=\"flex justify-between font-bold text-lg mb-4\">\n        <span>Total</span><span id=\"total\">$0.00</span>\n      </div>\n      <button id=\"place-order-btn\" class=\"w-full flex items-center justify-center mt-4 bg-orange-500 text-white py-3 rounded-xl font-semibold space-x-2\">\n        <span>Place an order</span>\n      </button>\n    </aside>\n  </div>\n\n  <div id=\"order-modal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\">\n    <div class=\"bg-white p-6 rounded-xl max-w-sm w-full text-center\">\n      <h3 class=\"text-lg font-bold mb-4\" id=\"modal-title\">Order Status</h3>\n      <p class=\"mb-6\" id=\"modal-message\"></p>\n      <button id=\"modal-close-btn\" class=\"bg-orange-500 text-white px-4 py-2 rounded\">Close</button>\n    </div>\n  </div>\n\n  <script>\n    const products = [\n      { id: 1, category: \"Signature\", name: \"Almond Brown Sugar Croissant\", description: \"Sweet croissant with almonds and brown sugar\", price: 12.98, quantity: 3, thumbnail: \"https://insanelygoodrecipes.com/wp-content/uploads/2024/12/Chocolate-Almond-Croissants-Recipe-480x270.jpg\" },\n      { id: 2, category: \"Croissant\", name: \"Smoke Tenderloin Slice Croissant\", description: \"Plain croissant with smoked beef and vegetables\", price: 10.01, quantity: 2, thumbnail: \"https://www.foodrepublic.com/img/gallery/how-to-use-up-leftover-beef-tenderloin-for-easy-customizable-sandwiches/intro-1736445477.jpg\" },\n      { id: 3, category: \"Croissant\", name: \"Berry Whipped Cream Croissant\", description: \"Sweet croissant with blueberries & strawberries\", price: 8.92, quantity: 3, thumbnail: \"https://www.thekitchenwhisperer.net/wp-content/uploads/2014/02/Croissant-Love.jpg\" },\n      { id: 4, category: \"Waffle\", name: \"Chocolate Waffle\", description: \"Crispy waffle with chocolate drizzle\", price: 7.50, quantity: 1, thumbnail: \"https://tarasmulticulturaltable.com/wp-content/uploads/2015/02/Dark-Chocolate-Waffles-4-of-4.jpg\" },\n      { id: 5, category: \"Coffee\", name: \"Cappuccino\", description: \"Classic coffee with frothy milk\", price: 4.50, quantity: 1, thumbnail: \"https://lorcoffee.com/cdn/shop/articles/Cappuccino-exc.jpg?v=1684870907\" },\n      { id: 6, category: \"Ice Cream\", name: \"Vanilla Ice Cream\", description: \"Smooth vanilla ice cream scoop\", price: 3.99, quantity: 1 , thumbnail: \"https://www.savoryexperiments.com/wp-content/uploads/2021/06/Vanilla-Ice-Cream-9.jpg\"}\n    ];\n\n    const categories = [\"All\", \"Signature\", \"Croissant\", \"Waffle\", \"Coffee\", \"Ice Cream\"];\n    const cart = [];\n\n    const productsContainer = document.getElementById(\"products\");\n    const categoriesContainer = document.getElementById(\"categories\");\n    const orderItemsContainer = document.getElementById(\"order-items\");\n    const subtotalEl = document.getElementById(\"subtotal\");\n    const discountEl = document.getElementById(\"discount\");\n    const taxEl = document.getElementById(\"tax\");\n    const totalEl = document.getElementById(\"total\");\n\n    function formatPrice(price) {\n      return \"$\" + price.toFixed(2);\n    }\n\n    // Render categories and handle selection\n    categories.forEach((cat, index) => {\n      const btn = document.createElement(\"button\");\n      btn.className = \"px-4 py-2 rounded-xl\";\n      if (cat === \"Signature\") {\n        btn.innerHTML = `<svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"inline w-5 h-5 mr-1\">\n          <path d=\"M4 8L6 20H18L20 8M4 8L5.71624 9.37299C6.83218 10.2657 7.39014 10.7121 7.95256 10.7814C8.4453 10.8421 8.94299 10.7173 9.34885 10.4314C9.81211 10.1051 10.0936 9.4483 10.6565 8.13476L12 5M4 8C4.55228 8 5 7.55228 5 7C5 6.44772 4.55228 6 4 6C3.44772 6 3 6.44772 3 7C3 7.55228 3.44772 8 4 8ZM20 8L18.2838 9.373C17.1678 10.2657 16.6099 10.7121 16.0474 10.7814C15.5547 10.8421 15.057 10.7173 14.6511 10.4314C14.1879 10.1051 13.9064 9.4483 13.3435 8.13476L12 5M20 8C20.5523 8 21 7.55228 21 7C21 6.44772 20.5523 6 20 6C19.4477 6 19 6.44772 19 7C19 7.55228 19.4477 8 20 8ZM12 5C12.5523 5 13 4.55228 13 4C13 3.44772 12.5523 3 12 3C11.4477 3 11 3.44772 11 4C11 4.55228 11.4477 5 12 5ZM12 4H12.01M20 7H20.01M4 7H4.01\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n        </svg> ${cat}`;\n      } else if (cat === \"Coffee\") {\n        btn.innerHTML = `<svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"inline w-5 h-5 mr-1\">\n          <path d=\"M18.5 7H19C19.4647 7 19.697 7 19.8902 7.03843C20.6836 7.19624 21.3038 7.81644 21.4616 8.60982C21.5 8.80302 21.5 9.03535 21.5 9.5C21.5 9.96465 21.5 10.197 21.4616 10.3902C21.3038 11.1836 20.6836 11.8038 19.8902 11.9616C19.697 12 19.4647 12 19 12H18.5M3 20H21M12 17C10.6055 17 9.90821 17 9.33277 16.8619C7.50453 16.4229 6.07707 14.9955 5.63815 13.1672C5.5 12.5918 5.5 11.8945 5.5 10.5L5.5 7.2C5.5 6.0799 5.5 5.51984 5.71799 5.09202C5.90973 4.7157 6.21569 4.40974 6.59202 4.21799C7.01984 4 7.57989 4 8.7 4L15.3 4C16.4201 4 16.9802 4 17.408 4.21799C17.7843 4.40973 18.0903 4.71569 18.282 5.09202C18.5 5.51984 18.5 6.07989 18.5 7.2V10.5C18.5 11.8945 18.5 12.5918 18.3619 13.1672C17.9229 14.9955 16.4955 16.4229 14.6672 16.8619C14.0918 17 13.3945 17 12 17Z\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n        </svg> ${cat}`;\n      } else if (cat === \"Waffle\") {\n        btn.innerHTML = `<svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"inline w-5 h-5 mr-1\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <path d=\"M9 16H9.01M12 11H12.01M7 10H7.01M15 16H15.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C12 5.76142 13.7909 8 16 8C16 10.2091 18.2386 12 21 12Z\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </g></svg> ${cat}`;\n      } else if (cat === \"Ice Cream\") {\n        btn.innerHTML = `<svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"inline w-5 h-5 mr-1\">\n          <path d=\"M9.5 15H9.51M15.5 15H15.51M9.5 19H9.51M12.5 17H12.51M12.5 21H12.51M15.5 19H15.51M6 16.4438C4.22194 15.5683 3 13.7502 3 11.6493C3 9.20008 4.8 6.9375 7.5 6.5C8.34694 4.48637 10.3514 3 12.6893 3C15.684 3 18.1317 5.32251 18.3 8.25C19.8893 8.94488 21 10.6503 21 12.4969C21 14.0582 20.206 15.4339 19 16.2417\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n        </svg> ${cat}`;\n      } else if (cat === \"Croissant\") {\n        btn.innerHTML = `<svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"inline w-5 h-5 mr-1\">\n          <path d=\"M9 15C9 18.3137 11.6863 21 15 21C18.3137 21 21 18.3137 21 15C21 11.6863 18.3137 9 15 9M9 15C12.3137 15 15 12.3137 15 9M9 15C5.68629 15 3 12.3137 3 9C3 5.68629 5.68629 3 9 3C12.3137 3 15 5.68629 15 9M6.5 9H6.51M9 11.5H9.01M13.5 17H13.51M9 6.5H9.01M11.5 9H11.51M17 17H17.01M17 13.5H17.01\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n        </svg> ${cat}`;\n      } else {\n        btn.textContent = cat;\n      }\n\n      // Default selection: All\n      if (index === 0) btn.classList.add(\"bg-orange-500\", \"text-white\");\n      else btn.classList.add(\"bg-gray-100\", \"text-gray-800\");\n\n      btn.addEventListener(\"click\", () => {\n        Array.from(categoriesContainer.children).forEach(b => {\n          b.classList.remove(\"bg-orange-500\", \"text-white\");\n          b.classList.add(\"bg-gray-100\", \"text-gray-800\");\n          const svg = b.querySelector(\"svg path\");\n          if (svg) svg.setAttribute(\"stroke\", \"#000000\"); // reset to default\n        });\n        btn.classList.add(\"bg-orange-500\", \"text-white\");\n        const svg = btn.querySelector(\"svg path\");\n        if (svg) svg.setAttribute(\"stroke\", \"#ffffff\"); // set active icon to white\n        btn.classList.remove(\"bg-gray-100\", \"text-gray-800\");\n\n        renderProducts(cat);\n      });\n\n      categoriesContainer.appendChild(btn);\n    });\n\n    // Render products filtered by category\n    function renderProducts(selectedCategory = \"All\") {\n      productsContainer.innerHTML = \"\";\n      const filtered = selectedCategory === \"All\" ? products : products.filter(p => p.category === selectedCategory);\n\n      filtered.forEach(product => {\n        const card = document.createElement(\"div\");\n        card.className = \"bg-white shadow rounded-xl p-3\";\n\n        card.innerHTML = `\n          <img src=\"${product.thumbnail}\" class=\"rounded-lg mb-3 w-full h-48 object-cover\" />\n          <h3 class=\"font-semibold\">${product.name}</h3>\n          <p class=\"text-gray-500 text-sm\">${product.description}</p>\n          <div class=\"flex justify-between items-center mt-2\">\n            <span class=\"text-orange-500 font-bold\">${formatPrice(product.price)} <span class=\"text-gray-500 text-sm\">/ ${product.quantity} pcs</span></span>\n            <button class=\"p-2 bg-orange-100 rounded-lg add-to-cart\">\n<svg viewBox=\"0 0 24 24\" class=\"h-6 w-6 text-orange-500\" fill=\"none\"  xmlns=\"http://www.w3.org/2000/svg\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <path d=\"M21 5L19 12H7.37671M20 16H8L6 3H3M16 5.5H13.5M13.5 5.5H11M13.5 5.5V8M13.5 5.5V3M9 20C9 20.5523 8.55228 21 8 21C7.44772 21 7 20.5523 7 20C7 19.4477 7.44772 19 8 19C8.55228 19 9 19.4477 9 20ZM20 20C20 20.5523 19.5523 21 19 21C18.4477 21 18 20.5523 18 20C18 19.4477 18.4477 19 19 19C19.5523 19 20 19.4477 20 20Z\" stroke=\"#f97316\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </g></svg>\n                </button>\n          </div>\n        `;\n        productsContainer.appendChild(card);\n\n        card.querySelector(\".add-to-cart\").addEventListener(\"click\", () => addToCart(product));\n      });\n    }\n\n    function addToCart(product) {\n      const existing = cart.find(item => item.id === product.id);\n      if (existing) existing.count += 1;\n      else cart.push({ ...product, count: 1 });\n      renderCart();\n    }\n\n    function renderCart() {\n      orderItemsContainer.innerHTML = \"\";\n      let subtotal = 0;\n\n      if (cart.length === 0) {\n        subtotalEl.textContent = \"$0.00\";\n        discountEl.textContent = \"- $0.00\";\n        taxEl.textContent = \"$0.00\";\n        totalEl.textContent = \"$0.00\";\n        return;\n      }\n\n      cart.forEach(item => {\n        subtotal += item.price * item.count;\n        const div = document.createElement(\"div\");\n        div.className = \"flex items-center justify-between\";\n\n        div.innerHTML = `\n          <img src=\"${item.thumbnail}\" class=\"w-12 h-12 rounded-lg object-cover\" />\n          <div class=\"flex-1 ml-3\">\n            <p class=\"text-sm font-medium\">${item.name}</p>\n            <p class=\"text-orange-500 font-bold\">${formatPrice(item.price)}</p>\n          </div>\n          <div class=\"flex items-center space-x-2\">\n            <button class=\"px-1 bg-gray-200 rounded minus\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 12H4\" />\n              </svg>\n            </button>\n            <span>${item.count}</span>\n            <button class=\"px-1 bg-orange-500 text-white rounded plus\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n              </svg>\n            </button>\n          </div>\n        `;\n\n        orderItemsContainer.appendChild(div);\n\n        div.querySelector(\".plus\").addEventListener(\"click\", () => { item.count++; renderCart(); });\n        div.querySelector(\".minus\").addEventListener(\"click\", () => {\n          item.count--;\n          if (item.count <= 0) cart.splice(cart.findIndex(i => i.id === item.id), 1);\n          renderCart();\n        });\n      });\n\n      const discount = 5; \n      const tax = subtotal * 0.06;\n      const total = subtotal - discount + tax;\n\n      subtotalEl.textContent = formatPrice(subtotal);\n      discountEl.textContent = `- ${formatPrice(discount)}`;\n      taxEl.textContent = formatPrice(tax);\n      totalEl.textContent = formatPrice(total);\n    }\n\n    // Add Place an order button event listener to send cart as POST to /order\n    const placeOrderBtn = document.getElementById(\"place-order-btn\");\n    const orderModal = document.getElementById(\"order-modal\");\n    const modalMessage = document.getElementById(\"modal-message\");\n    const modalCloseBtn = document.getElementById(\"modal-close-btn\");\n\n    function showModal(message) {\n      modalMessage.textContent = message;\n      orderModal.classList.remove(\"hidden\");\n      orderModal.classList.add(\"flex\");\n    }\n\n    modalCloseBtn.addEventListener(\"click\", () => {\n      orderModal.classList.add(\"hidden\");\n      orderModal.classList.remove(\"flex\");\n    });\n\n    placeOrderBtn.addEventListener(\"click\", () => {\n      if (cart.length === 0) {\n        showModal(\"Cart is empty!\");\n        return;\n      }\n\n      const basePath = window.location.pathname.replace(/\\/[^\\/]*$/, '');\n      const orderUrl = `${basePath}/order`;\n\n      fetch(orderUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ \n            no_order: \"INV\" + new Date().toISOString().slice(0,10).replace(/-/g,''),\n            created_at: new Date().toISOString(),\n            items: cart \n        })\n      })\n      .then(response => response.json())\n      .then(data => {\n        showModal(\"Order submitted successfully!\");\n        cart.length = 0; // clear cart\n        renderCart();\n      })\n      .catch(error => {\n        console.error(\"Error submitting order:\", error);\n        showModal(\"Failed to submit order.\");\n      });\n    });\n\n    renderProducts();\n  </script>\n</body>\n</html>",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/html"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        208,
        0
      ],
      "id": "f862f85b-25cb-4501-a7de-2d3d4ae6a2e7",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "path": "beebakery",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        0,
        0
      ],
      "id": "42631e4f-8f28-405a-b531-f28df7729942",
      "name": "PosPage",
      "webhookId": "f5b46e65-ee93-4ba7-9652-6516fc825276"
    }
  ],
  "pinData": {},
  "connections": {
    "PosPage": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "12165942-cc12-43b1-a298-381e13bffef8",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "fd8eb5bababa46ad3d3297dd6c60c97f0a6da5a44b4da0f9a85c3e56634ad5e7"
  },
  "id": "7PkDReRAPBQ1N66k",
  "tags": []
}